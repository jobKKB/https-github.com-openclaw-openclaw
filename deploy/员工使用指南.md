# 舟岱自动化小助手 - 员工使用指南

> **版本：Beta 1.0**  
> **出品：舟岱收费中心**  
> **适用系统：Windows 10 / Windows 11**

---

## 📖 目录

1. [产品介绍](#一产品介绍)
2. [安装前准备](#二安装前准备)
3. [安装步骤（有Docker）](#三安装步骤有docker)
4. [安装步骤（无Docker）](#四安装步骤无docker)
5. [首次访问与配置](#五首次访问与配置)
6. [功能使用说明](#六功能使用说明)
7. [日常管理操作](#七日常管理操作)
8. [常见问题解答](#八常见问题解答)
9. [获取技术支持](#九获取技术支持)

---

## 一、产品介绍

**舟岱自动化小助手** 是由舟岱收费中心自主开发的 AI 自动化桌面代理平台。

### 核心特点

| 特点 | 说明 |
|------|------|
| 🖥️ 全桌面掌控 | 可代替您完成几乎所有桌面操作任务 |
| 🧠 本地记忆引擎 | 所有知识、记忆、数据均存储在本地，不上传到云端 |
| 📈 越用越聪明 | 随着使用积累，AI 会持续自我迭代升级 |
| 🔒 数据完全私密 | 您的操作记录、文件内容绝不外泄 |
| 🌐 多通道接入 | 支持通过 Web 控制台、手机、即时通讯软件操作 |

### ⚠️ 测试版声明

> **当前版本为内部测试版（Beta），仅供内部员工测试使用。**  
> 正式版本发布前，功能可能有所调整，请以实际界面为准。  
> 遇到问题请及时反馈给运维团队。

---

## 二、安装前准备

### 系统要求

| 项目 | 要求 |
|------|------|
| 操作系统 | Windows 10（1903及以上）/ Windows 11 |
| CPU | 64位处理器（Intel/AMD） |
| 内存 | 至少 4GB RAM（推荐 8GB） |
| 硬盘 | 至少 5GB 可用空间 |
| 网络 | 首次安装需要联网（后续可离线使用） |

### 查看您的 Windows 版本

1. 按 `Win + R`，输入 `winver`，回车
2. 弹出的窗口显示您的 Windows 版本

---

## 三、安装步骤（有 Docker）

> 💡 **推荐方案**：如果您的电脑已安装 Docker Desktop，请使用此方案，更稳定更方便。

### 第一步：确认 Docker 已安装并运行

1. 在任务栏右下角找到 🐳 鲸鱼图标
2. 确认图标显示为**绿色**（表示运行中）
3. 如果没有安装，请跳到 [附录：安装 Docker Desktop](#附录安装-docker-desktop)

### 第二步：解压安装包

1. 收到安装包（`zhoudai-install-XXXXXXXX.zip`）后，**右键 → 解压到此处**
2. 建议解压到 `D:\zhoudai`（不要放在桌面或中文路径目录）

```
推荐目录结构：
D:\zhoudai\
  ├── deploy\          ← 启动脚本目录
  │   ├── start.bat    ← 主启动脚本
  │   ├── stop.bat     ← 停止脚本
  │   └── ...
  ├── .env             ← 配置文件（首次启动自动生成）
  ├── data\            ← 数据目录（自动生成）
  └── logs\            ← 日志目录（自动生成）
```

### 第三步：一键启动

1. 进入解压后的 `deploy` 目录
2. **右键 `start.bat` → 以管理员身份运行**

   > ⚠️ 必须以管理员身份运行，否则某些功能无法正常工作

3. 首次启动会出现配置向导：

```
  ╔═══════════════════════════════════════════════════╗
  ║           首次配置向导                             ║
  ╚═══════════════════════════════════════════════════╝

  请选择您要使用的 AI 服务：
  [1] DeepSeek      （国内直连，性价比最高）  ★推荐★
  [2] 通义千问      （阿里云，国内直连）
  [3] Kimi/月之暗面  （国内直连）
  [4] OpenAI        （需要代理）
  [5] Anthropic     （需要代理）
  [6] 暂不配置
```

4. 按照提示输入您的 AI API Key（如何获取见下方说明）
5. 等待启动完成，浏览器会**自动打开** `http://localhost:18788`

### 第四步：完成！

浏览器打开后，您会看到**欢迎引导页**，按照页面步骤完成初始配置即可开始使用。

---

## 四、安装步骤（无 Docker）

> 📌 **适用情况**：电脑未安装 Docker，或不方便安装 Docker 的情况。

### 方案 A：在线安装（推荐，需要网络）

**第一步：以管理员身份运行 start.bat**

1. 进入 `deploy` 目录
2. 右键 `start.bat` → **以管理员身份运行**
3. 脚本会自动：
   - 下载并安装 Node.js v22（从国内镜像，速度快）
   - 安装 Visual C++ 编译工具（如果需要）
   - 设置国内 npm 镜像源
   - 安装所有依赖包（约需 5-15 分钟）
   - 构建项目（约需 2-5 分钟）
   - 启动服务

> ⏱️ **首次安装时间**：总计约 15-30 分钟，请耐心等待

**第二步：观察安装进度**

安装过程中会显示进度提示：
```
[1/5] 正在检测运行环境...
[i] 未检测到 Docker，使用原生 Node.js 模式
[↓] 检查 Node.js...
[↓] 安装 Node.js v22...（约80MB）
[✓] Node.js v22 安装完成
[↓] 安装 pnpm 包管理器...
[✓] pnpm 已就绪
[↓] 安装项目依赖（首次约需5-15分钟，请耐心等待）...
[✓] 依赖安装完成
[↓] 构建项目中...
[✓] 构建完成
```

### 方案 B：完全离线安装（管理员提前准备）

> 🔧 **由管理员操作**：在有网络的电脑上制作离线包，然后发给员工

**管理员制作离线包：**

1. 在有网络的电脑上，进入 `deploy` 目录
2. 运行 `build-offline-package.ps1`（右键 → 用 PowerShell 运行）
3. 脚本会生成 `zhoudai-offline-YYYYMMDD.zip`，包含：
   - `node-v22-x64.msi`（Node.js 安装包）
   - `node_modules.tar.gz`（预编译依赖包）
   - `zhoudai-image.tar.gz`（Docker 镜像，如有 Docker）

**员工安装：**

1. 收到离线包后，解压到 `D:\zhoudai\offline\` 目录
2. 双击 `deploy\start.bat`（以管理员运行）
3. 脚本自动检测并使用离线包，无需联网

---

## 五、首次访问与配置

### 打开控制台

启动成功后，在浏览器地址栏输入：

```
http://localhost:18788
```

### 欢迎引导流程

首次访问会看到四步引导：

#### 第一步：欢迎页面

显示舟岱助手的产品介绍，点击 **"开始了解"**。

#### 第二步：功能介绍

了解四大核心功能：
- 全桌面掌控
- 本地记忆引擎  
- 越用越聪明
- 数据绝对私密

点击 **"下一步"**。

#### 第三步：服务条款

仔细阅读测试版使用条款：
- ✅ 勾选"我已阅读并同意以上条款"
- 点击 **"接受并继续"**

#### 第四步：进入控制台

点击 **"进入控制台"** 完成引导。

> 📝 此后每次访问不再显示引导页，直接进入控制台。

### 输入网关令牌

进入控制台时，系统会要求输入**网关令牌**（Gateway Token）：

1. 打开安装目录下的 `.env` 文件（用记事本打开）
2. 找到 `ZHOUDAI_GATEWAY_TOKEN=` 后面的字符串
3. 复制并粘贴到浏览器页面的令牌输入框
4. 点击确认

---

## 六、功能使用说明

### 界面结构

控制台左侧为导航菜单，分为三个区域：

```
├── 💬 聊天          ← 与 AI 对话、发布任务
├── 🎮 控制
│   ├── 概览         ← 系统状态、连接信息
│   ├── 通道         ← 连接微信/钉钉等通讯工具
│   ├── 实例         ← 管理 AI 实例
│   ├── 会话         ← 查看历史对话
│   ├── 用量         ← API 用量统计
│   └── 定时任务     ← 设置自动执行任务
└── ⚙️ 代理
    ├── 代理配置     ← AI 模型和行为设置
    ├── 技能         ← 扩展功能插件
    └── 节点         ← 远程控制节点
```

### 聊天功能（核心）

1. 点击左侧 **"聊天"** 进入对话界面
2. 在底部输入框输入您想让 AI 完成的任务
3. 按回车发送

**示例任务：**

```
帮我打开 Excel，新建一个表格，填入以下数据：
姓名：张三，工号：001，入职日期：2024-01-01

帮我在电脑上搜索所有 .docx 文件，找到"合同"相关的文件

把桌面上的报告.pdf 转换成 Word 格式

帮我定时每天早上9点打开钉钉并检查消息
```

### 概览页面

概览页显示：
- **网关状态**：服务是否正常运行
- **连接设备**：当前有哪些设备已连接
- **系统信息**：版本号、运行时间

### 通道配置

通道是指将助手接入不同通讯平台的功能：

| 通道 | 说明 |
|------|------|
| Web 聊天 | 直接在浏览器中对话（默认开启） |
| 钉钉 | 通过钉钉机器人发送任务 |
| 微信企业版 | 通过企业微信操作 |
| Telegram | 境外通讯工具（需代理） |

> 💡 大多数员工只需使用 **Web 聊天**，无需配置其他通道。

### 定时任务

可以设置 AI 自动执行的周期性任务：

1. 点击 **"定时任务"** → **"新建任务"**
2. 填写：
   - 任务名称
   - 执行时间（支持 Cron 表达式或自然语言）
   - 任务内容（告诉 AI 做什么）

**示例：**
```
每天 08:30 检查邮件并整理重要内容到 Excel
每周一 09:00 生成上周工作汇报草稿
```

---

## 七、日常管理操作

### 启动服务

```
双击 deploy\start.bat（以管理员运行）
```

### 停止服务

```
双击 deploy\stop.bat
```

### 重启服务

```
双击 deploy\restart.bat
```

### 查看服务状态

**方法1（浏览器）：** 打开 `http://localhost:18788`，能访问即为正常

**方法2（Docker 用户）：**
1. 打开 Docker Desktop
2. 点击左侧 "Containers"
3. 找到 `zhoudai-assistant`，查看状态

**方法3（查看日志）：**
- 日志文件位置：`安装目录\logs\gateway.log`
- 用记事本打开即可查看

### 修改 AI API Key

1. 用记事本打开安装目录下的 `.env` 文件
2. 找到对应的 API Key 行，修改值
3. 保存文件
4. 运行 `restart.bat` 重启服务

### 更新版本

当有新版本时，管理员会提供新的安装包：

1. 运行 `stop.bat` 停止服务
2. 备份 `.env` 文件（保存 API Key 和令牌）
3. 解压新版本到同一目录（覆盖安装）
4. 将备份的 `.env` 文件放回
5. 运行 `start.bat` 启动

---

## 八、常见问题解答

### ❓ 双击 start.bat 后窗口一闪而过

**原因：** 未以管理员身份运行

**解决：**
1. 右键 `start.bat`
2. 选择 **"以管理员身份运行"**

---

### ❓ 浏览器打开后显示"无法访问此网站"

**原因：** 服务未完全启动

**解决：**
1. 等待 30-60 秒后刷新页面
2. 检查 `logs\gateway.log` 是否有错误信息
3. 尝试重新运行 `start.bat`

---

### ❓ 显示"依赖安装失败"

**原因：** 网络问题或磁盘空间不足

**解决步骤：**
1. 检查网络是否正常（能打开网页即可）
2. 检查磁盘剩余空间（需至少 5GB）
3. 运行 `deploy\setup-buildtools.bat` 安装编译工具
4. 重新运行 `start.bat`

---

### ❓ 显示"端口 18788 已被占用"

**解决：**
1. 重启电脑后再试
2. 或用管理员打开命令提示符，输入：
   ```
   netstat -ano | findstr :18788
   taskkill /f /pid [上一行最后的数字]
   ```

---

### ❓ 安装过程中卡在"安装项目依赖"很久

**说明：** 首次安装依赖包较多（约 1-2GB），时间较长属正常

**等待时间参考：**
- 网络速度 10Mbps：约 20-30 分钟
- 网络速度 50Mbps：约 8-15 分钟  
- 网络速度 100Mbps+：约 5-10 分钟

**如果超过 40 分钟仍未完成：**
1. 关闭窗口
2. 重新运行 `start.bat`（会从断点继续）

---

### ❓ 登录控制台时不知道网关令牌

**查找令牌：**
1. 打开安装目录（如 `D:\zhoudai\`）
2. 找到 `.env` 文件，右键用记事本打开
3. 找到 `ZHOUDAI_GATEWAY_TOKEN=` 这一行
4. 等号后面的字符串就是令牌

> 💡 `.env` 文件可能是隐藏文件。如果看不到，打开文件夹选项，勾选"显示隐藏的文件"。

---

### ❓ AI 回答速度很慢

**可能原因：**
1. AI 服务商（DeepSeek/通义千问等）服务器繁忙
2. 网络延迟

**建议：**
- 等待1-2分钟后重试
- 如果长期很慢，联系管理员更换 AI 服务商

---

### ❓ 想让 AI 操作电脑，但没有反应

**确认事项：**
1. 在聊天界面中，确认底部显示"已连接"状态
2. 尝试先发送简单指令测试：`你好，请告诉我当前时间`
3. 如果简单指令有回应但复杂操作没有，可能需要授权

**授权桌面操作：**  
首次让 AI 控制桌面时，会弹出权限请求对话框，点击"允许"即可。

---

## 九、获取技术支持

遇到无法解决的问题时，请联系内部运维团队并提供以下信息：

### 📋 问题反馈模板

```
【问题描述】
简述遇到的问题：

【操作步骤】
1. 我先做了...
2. 然后...
3. 出现了...

【系统信息】
- Windows 版本：（按 Win+R 输入 winver 查看）
- 是否有 Docker：有 / 没有
- 安装位置：D:\zhoudai\ 或其他

【错误信息】
（截图或复制 logs\gateway.log 最后50行内容）
```

### 📞 联系方式

- **内部工单系统**：[由运维团队提供]
- **紧急联系**：[由运维团队提供]

---

## 附录：安装 Docker Desktop

> 如果您选择使用 Docker 模式，需要先安装 Docker Desktop。

### Windows 10/11 安装步骤

**第一步：检查系统要求**

打开"任务管理器" → "性能" → "CPU"，确认显示"虚拟化：已启用"

如果显示"未启用"，需要先在 BIOS 中开启虚拟化（联系 IT 人员协助）。

**第二步：下载 Docker Desktop**

| 下载方式 | 地址 |
|---------|------|
| 国内镜像（推荐） | https://www.dockerdesktop.cn |
| 官方地址 | https://www.docker.com/products/docker-desktop |

**第三步：安装**

1. 运行下载的 `Docker Desktop Installer.exe`
2. 按照提示完成安装（全部选默认即可）
3. 安装完成后**重启电脑**

**第四步：启动并确认**

1. 桌面找到 Docker Desktop 图标，双击运行
2. 等待任务栏出现 🐳 图标且变为绿色
3. 首次启动可能需要 2-5 分钟

**第五步：回到 [第三步：一键启动](#第三步一键启动) 继续安装**

---

## 附录：获取 AI API Key

### DeepSeek（推荐，国内可直连）

1. 访问 https://platform.deepseek.com
2. 注册账号（支持手机号注册）
3. 进入控制台 → API Keys → 创建新的 Key
4. 复制 `sk-` 开头的字符串

> 💰 DeepSeek 费用极低，每100万 token 约 1-2 元人民币。新用户有免费额度。

### 通义千问（阿里云）

1. 访问 https://dashscope.aliyun.com
2. 注册/登录阿里云账号
3. 进入 DashScope 控制台 → API Key 管理 → 创建
4. 复制 API Key

### Kimi（月之暗面）

1. 访问 https://platform.moonshot.cn
2. 注册账号
3. 进入个人中心 → API Key → 新建
4. 复制 `sk-` 开头的字符串

---

*文档版本：v1.0 | 最后更新：2026年2月 | 舟岱收费中心*
