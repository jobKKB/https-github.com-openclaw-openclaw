# 舟岱自动化小助手 - 安装使用说明

## 📋 安装前准备

### 必须先安装 Docker Desktop

Docker Desktop 是运行舟岱助手的必要环境（类似于给程序提供"运行容器"）。

| 系统 | 下载地址 |
|------|----------|
| Windows | https://www.dockerdesktop.cn （国内镜像，推荐） |
| macOS | https://www.docker.com/products/docker-desktop |
| Linux | 终端运行：`curl -fsSL https://get.daocloud.io/docker \| sh` |

> ⚠️ **安装完 Docker Desktop 后，请确保它已经启动（任务栏/菜单栏有鲸鱼图标）**

---

## 🚀 一键启动（首次安装）

### Windows 用户

1. 解压安装包到任意目录（建议 `D:\zhoudai` 或桌面）
2. **双击运行 `start.bat`**
3. 按照屏幕提示输入 AI API 密钥（首次需要）
4. 等待启动完成，浏览器会自动打开

### macOS / Linux 用户

```bash
# 解压后进入目录
cd zhoudai-install

# 给脚本添加执行权限
chmod +x start.sh

# 一键启动
./start.sh
```

---

## 🔑 配置 AI API 密钥

首次启动时脚本会引导您配置，推荐使用以下国内可用的服务：

### 推荐：DeepSeek（最便宜，国内可直连）
1. 注册：https://platform.deepseek.com
2. 创建 API Key
3. 启动时选择 `[1] DeepSeek`，粘贴 Key

### 备选：通义千问（阿里云）
1. 注册：https://dashscope.aliyun.com
2. 创建 API Key
3. 启动时选择 `[2] 通义千问`，粘贴 Key

---

## 🌐 访问地址

服务启动后，打开浏览器访问：

```
http://localhost:18788
```

首次访问需要输入**网关令牌**，令牌在安装目录的 `.env` 文件中：
- 找到 `ZHOUDAI_GATEWAY_TOKEN=` 后面的那串字符
- 复制粘贴到浏览器页面的令牌输入框

---

## 🔧 日常管理

### Windows

| 操作 | 方法 |
|------|------|
| 启动服务 | 双击 `start.bat` |
| 停止服务 | 双击 `stop.bat` |
| 查看日志 | 打开 Docker Desktop → Containers → zhoudai-assistant |

### macOS / Linux

```bash
./start.sh          # 启动
./start.sh stop     # 停止
./start.sh restart  # 重启
./start.sh logs     # 查看实时日志
./start.sh update   # 更新版本
```

---

## ❓ 常见问题

**Q: 双击 start.bat 闪退？**
A: 右键 → 以管理员身份运行；或检查 Docker Desktop 是否已启动

**Q: 浏览器打开后一直加载？**
A: 等待30秒左右，服务需要初始化时间

**Q: 显示"镜像导入失败"？**
A: 确认安装包目录中有 `zhoudai-image.tar.gz` 文件，且文件完整（可能下载中断）

**Q: 如何修改 API Key？**
A: 用记事本打开 `.env` 文件，修改对应的 Key，保存后运行 `start.bat` 重启

**Q: 端口 18788 被占用？**
A: 用管理员打开记事本，编辑 `docker-compose.china.yml`，将 `18788:18788` 改为 `其他端口:18788`

---

## 📞 技术支持

如遇问题，请联系内部运维团队并提供：
1. 错误截图
2. 系统版本（Windows 10/11 / macOS 版本）
3. Docker Desktop 版本
